<!DOCTYPE html>
<html>
<head>
  <title>User Registration</title>
</head>
<body>
  <h2>Register</h2>
  <form id="register-form">
    <input type="text" id="first_name" placeholder="First Name" required><br>
    <input type="text" id="last_name" placeholder="Last Name" required><br>
    <input type="email" id="email" placeholder="Email" required><br>
    <input type="password" id="password" placeholder="Password" required><br>
    <button type="submit">Register</button>
  </form>

  <script>
    document.getElementById("register-form").addEventListener("submit", async function(event) {
      event.preventDefault();

      const data = {
        first_name: document.getElementById("first_name").value,
        last_name: document.getElementById("last_name").value,
        email: document.getElementById("email").value,
        password: document.getElementById("password").value,
      };

      const response = await fetch("http://127.0.0.1:8000/auth/register", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      });

      const result = await response.json();
if (response.ok) {
  alert("Registered successfully!");
  window.location.href = "login.html";
} else {
  alert(" Registration failed: " + JSON.stringify(result.detail));
}

    });
  </script>
</body>
</html>
